{"ast":null,"code":"const cardDeck = readJsonFile();\nasync function readJsonFile() {\n  const filePath = '/src/logic/cards.json';\n  try {\n    const response = await fetch(filePath);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch ${filePath}: ${response.statusText}`);\n    }\n    const jsonData = await response.json();\n    const myData = jsonData;\n    console.log('Ok');\n    return myData;\n  } catch (error) {\n    console.error(`Error reading JSON file: ${error.message}`);\n  }\n}\nfunction shuffleDeck(deck) {\n  return Object.keys(deck).sort(() => Math.random() - 0.5);\n}\nfunction initialiseGame(numPlayers) {\n  const shuffledDeck = shuffleDeck(cardDeck);\n  const players = {};\n  for (let i = 1; i <= numPlayers; i++) {\n    players[`Player${i}`] = {\n      hand: [],\n      score: 0,\n      status: 'Tie'\n    };\n  }\n  const dealer = {\n    hand: [],\n    score: 0\n  };\n  return {\n    shuffledDeck,\n    players,\n    dealer\n  };\n}\nfunction dealCards(gameState) {\n  const {\n    shuffleDeck,\n    players,\n    dealer\n  } = gameState;\n  for (let i = 0; i < 2; i++) {\n    for (const player in players) {\n      players[player].hand.push(shuffleDeck.pop());\n    }\n    dealer.hand.push(shuffleDeck.pop());\n  }\n  return gameState;\n}\nfunction calculateHandValue(hand) {\n  let sum = 0;\n  let numAces = 0;\n  for (const cardIndex of hand) {\n    const card = cardDeck[cardIndex];\n    const values = card.value;\n    sum += values[0];\n    if (values.include(11)) {\n      numAces++;\n    }\n  }\n  while (numAces > 0 && sum > 21) {\n    sum -= 10;\n    numAces--;\n  }\n  return sum;\n}\nfunction determineWinner(gameState) {\n  const {\n    players,\n    dealer\n  } = gameState;\n  const dealerScore = dealer.score;\n  for (const player in players) {\n    const playerScore = players[player].score;\n    if (playerScore > 21) {\n      players[player].status = 'Lose';\n    } else if (dealerScore > 21 || playerScore > dealerScore) {\n      players[player].status = 'Win';\n    } else if (playerScore === dealerScore) {\n      players[player].status = 'Tie';\n    } else {\n      players[player].status = 'Lose';\n    }\n  }\n}\nexport { readJsonFile, shuffleDeck, dealCards, calculateHandValue, determineWinner };","map":{"version":3,"names":["cardDeck","readJsonFile","filePath","response","fetch","ok","Error","statusText","jsonData","json","myData","console","log","error","message","shuffleDeck","deck","Object","keys","sort","Math","random","initialiseGame","numPlayers","shuffledDeck","players","i","hand","score","status","dealer","dealCards","gameState","player","push","pop","calculateHandValue","sum","numAces","cardIndex","card","values","value","include","determineWinner","dealerScore","playerScore"],"sources":["/Users/carlintan/Desktop/banluck888/src/logic/logic.js"],"sourcesContent":["const cardDeck = readJsonFile()\n\nasync function readJsonFile() {\n    const filePath = '/src/logic/cards.json';\n    try {\n        const response = await fetch(filePath);\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch ${filePath}: ${response.statusText}`);\n        }\n\n        const jsonData = await response.json();\n        const myData = jsonData;\n        console.log('Ok')\n       return myData\n    } catch (error) {\n        console.error(`Error reading JSON file: ${error.message}`);\n    }\n}\n\nfunction shuffleDeck(deck) {\n    return Object.keys(deck).sort(() => Math.random() - 0.5)\n}\n\nfunction initialiseGame(numPlayers) {\n    const shuffledDeck = shuffleDeck(cardDeck);\n\n    const players = {};\n    for (let i = 1; i <= numPlayers; i++) {\n        players[`Player${i}`] = {\n            hand: [],\n            score: 0,\n            status: 'Tie'\n        };\n    }\n\n    const dealer = {\n        hand: [],\n        score: 0,\n    };\n\n    return { shuffledDeck, players, dealer };\n}\n\nfunction dealCards(gameState) {\n    const { shuffleDeck, players, dealer } = gameState;\n\n    for (let i = 0; i < 2; i++) {\n        for (const player in players) {\n            players[player].hand.push(shuffleDeck.pop());\n        }\n        dealer.hand.push(shuffleDeck.pop());\n    }\n\n    return gameState;\n}\n\nfunction calculateHandValue(hand) {\n    let sum = 0;\n    let numAces = 0;\n\n    for (const cardIndex of hand) {\n        const card = cardDeck[cardIndex];\n        const values = card.value;\n\n        sum += values[0];\n\n        if (values.include(11)) {\n            numAces++;\n        }\n    }\n\n    while (numAces > 0 && sum > 21) {\n        sum -=10;\n        numAces--;\n    }\n\n    return sum;\n}\n\nfunction determineWinner(gameState) {\n    const { players, dealer } = gameState;\n    const dealerScore = dealer.score;\n\n    for (const player in players) {\n        const playerScore = players[player].score;\n\n        if (playerScore > 21) {\n            players[player].status = 'Lose'\n        } else if (dealerScore > 21 || playerScore > dealerScore) {\n            players[player].status = 'Win'\n        } else if (playerScore === dealerScore) {\n            players[player].status = 'Tie'\n        } else {\n            players[player].status = 'Lose'\n        }\n    }\n}\n\nexport {readJsonFile, shuffleDeck, dealCards, calculateHandValue, determineWinner}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}